import{r as a,j as e,S as w,c as v}from"./index-B1WVDUfi.js";const N=({onClose:b})=>{const[l,n]=a.useState([{role:"model",text:"Hi there! I'm an AI assistant. How can I help you with information about Amit Mishra's expertise or achievements?"}]),[i,x]=a.useState(""),[t,u]=a.useState(!1),g=a.useRef(null),m=a.useRef(null),f=()=>{var r;(r=g.current)==null||r.scrollIntoView({behavior:"smooth"})};a.useEffect(f,[l]),a.useEffect(()=>{var r;(r=m.current)==null||r.focus()},[]);const h=async r=>{if(!r.trim()||t)return;const s={role:"user",text:r};n(o=>[...o,s]),x(""),u(!0);try{const d={role:"model",text:await v(r)};n(c=>[...c,d])}catch(o){const d=o instanceof Error?o.message:"An unknown error occurred.";n(c=>[...c,{role:"model",text:`Sorry, I encountered an error: ${d}`}])}finally{u(!1)}},y=r=>{r.preventDefault(),h(i)},p=r=>{h(r)},j=["What is his experience with UR?","Tell me about his achievements.","What are his key areas of expertise?"];return e.jsxs("div",{className:"fixed bottom-6 right-6 md:bottom-10 md:right-10 w-[calc(100%-3rem)] max-w-md h-[70vh] max-h-[600px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl flex flex-col z-[60] border border-gray-200 dark:border-gray-700 animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-robot text-blue-500"}),"Chat with Amit's AI"]}),e.jsx("button",{onClick:b,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white text-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full w-8 h-8 flex items-center justify-center","aria-label":"Close chat",children:"Ã—"})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[l.map((r,s)=>e.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] p-3 rounded-xl ${r.role==="user"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.text})})},s)),l.length===1&&!t&&e.jsxs("div",{className:"flex flex-col items-start gap-2 animate-fade-in-up",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 px-2",children:"Or try one of these:"}),j.map((r,s)=>e.jsx("button",{onClick:()=>p(r),disabled:t,className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-400 text-sm px-3 py-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:r},s))]}),t&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"max-w-[80%] p-3 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"})]})})}),e.jsx("div",{ref:g})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[e.jsx("input",{ref:m,type:"text",value:i,onChange:r=>x(r.target.value),placeholder:"Ask me a question...",disabled:t,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsx("button",{type:"submit",disabled:t||!i.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center w-12",children:t?e.jsx(w,{}):e.jsx("i",{className:"fas fa-paper-plane"})})]})})]})};export{N as default};
